### Annotation

AnnotatedBeanDefinitionReader

* 条件评估@Conditional：ConditionEvaluator
* Bean范围解析：ScopeMetadataResolver
* BeanDefinition解析：内部
* BeanDefinition处理：AnnotationConfigUtils#processCommonDefinitionAnnotations

模式stereotype注解

* @Component
* @Controller
* @Service
* @Repository：异常会被统一处理为DataAccessException
* @Configuration
    * @Bean的方法不能为private或final（Configuration类会被cglib增强）
    * @Bean定义的bean中如果有shutdown或close方法，会自动配置为destruction回调

装配注解

* @Import 
* @ImportResource
* @ComponentScan

依赖注入注解

* @Autowired
* @Resource
* @Value
* @Qualifier：CustomAutowireConfigurer

条件注解

* @Profile
* @Conditional

@Autowired、@Inject、@Value不支持静态字段、方法

@Resource只能作用于field或只有一个参数的方法，优先使用名称匹配，名称无法匹配时再通过类型匹配

在构造器情况下

* required=true的情况下，只能有一个构造器标注@Autowired，别的构造器不能标注，即使required=false

* required=false不表示参数可以不存在，而表示构造器作为备选构造器，参数永远是required

* 只有一个构造器或者只有一个构造器标注@Autowired且required=true，多元素注入（数组、集合、映射）在没有匹配的bean可用时解析为空实例

### Component派生

ClassPathBeanDefinitionScanner

* 资源处理：ResourcePatternResolver
* MetadataReaderFactory
* 类元信息：ClassMetadata
    * ASM：SimpleAnnotationMetadataReadingVisitor
    * 反射：StandardAnnotationMetadata
* 注解元信息：AnnotationMetadata extends ClassMetadata
    * ASM：SimpleAnnotationMetadataReadingVisitor
    * 反射：StandardAnnotationMetadata

### 注解属性别名、覆盖

MergedAnnotation

别名是当前注解中的属性之间的关系，覆盖是当前注解和元注解中属性的关系

* 显式别名：一个注解中两个属性通过@AliasFor互相声明为别名
* 隐式别名：一个注解中的多个属性通过@AliasFor显示覆盖元注解的同一个属性，这些属性互为隐式别名
* 传递隐式别名：隐式别名可传递

* 隐式覆盖：注解中的属性和元注解中的属性同名，元注解中的属性被隐式覆盖
* 显式覆盖：注解中的属性通过@AliasFor显式覆盖元注解中的属性
* 传递显式覆盖：显式覆盖可传递

### Enable

* EnableWebMvc
* EnableCaching
* EnableScheduling
* EnableTransactionManagement
* EnableAsync

通过@Import导入

* ConfigurationClass
* ImportSelector
* ImportBeanDefinitionRegistrar

### Index

依赖spring-context-indexer

编译后生成META-INF/spring.components

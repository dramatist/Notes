Environment：统一的Spring配置属性管理

* 属性占位符处理
* 存储配置属性源
* Profiles状态维护
* 配置属性类型转换

占位符处理

* Spring 3.1前：PropertyPlaceholderConfigurer 
* Spring 3.1后：PropertySourcePlaceholderConfigurer

类型转换

* Environment继承自PropertyResolver，通过内置PropertySourcesPropertyResolver委托
* convertValueIfNecessary

Profile

* @Profile("production | test")   @Profile("production & test")    还可使用感叹号，表示否，& 与 ｜ 混用时必须有括号

* spring.profiles.active指定激活的profile

* spring.profiles.default指定默认profile

PropertySource：对任意key-value类型的抽象，如JVM参数、系统环境变量、命令行参数、properties文件、yml文件

* 注解
    * @PropertySource：同名属性最后加载的优先
    * @PropertySources

* API
    * PropertySource
    * PropertySources：层次性，高层次优先

StandardEnvironment：System.getProperties和System.getEnv

未提供Yaml直接支持，可使用YamlProcessor

* YamlMapFactoryBean
* YamlPropertiesFactoryBean